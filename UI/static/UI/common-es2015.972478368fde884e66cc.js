(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2Hrk":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.AUTH="esia_noAuth",e}({})},"3uuC":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("2Hrk"),r=n("fXoL"),i=n("S2y7"),c=n("j0Qm"),s=n("ofXK");let o=(()=>{class e{transform(e,t,n){return e&&t&&n?e.filter(e=>e[t]===n):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"filter",type:e,pure:!1}),e})();var p=n("Sdze");function h(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275element"](1,"img",7),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("src",e.bgImage,r["\u0275\u0275sanitizeUrl"])}}function l(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().index;return r["\u0275\u0275nextContext"]().closeBanner(t)})),r["\u0275\u0275elementEnd"]()}}function u(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275template"](2,h,2,1,"div",3),r["\u0275\u0275template"](3,l,1,0,"div",4),r["\u0275\u0275element"](4,"div",5),r["\u0275\u0275pipe"](5,"safeHtml"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index;r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("mt-24",n>0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.bgImage),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.closable),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind1"](5,5,e.content),r["\u0275\u0275sanitizeHtml"])}}let d=(()=>{class e{constructor(e,t){this.api=e,this.config=t,this.endpoint=this.config.params.endpoints.quadrupel,this.banners=[]}ngOnInit(){const e=`${this.endpoint}/banners?platform=EPGUV3_DESK&groups=${[a.a.AUTH].join(",")}`,t=[];this.api.getRequest(e).subscribe(e=>{e.forEach(e=>{e.banners&&e.banners.length>0&&(e.banners.map(t=>t.groupId=e.group),t.push(e.banners[Math.floor(Math.random()*e.banners.length)]))}),this.banners=[...t]})}closeBanner(e){this.banners.splice(e,1)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-banner"]],inputs:{groupId:"groupId"},decls:3,vars:5,consts:[[1,"banners"],[4,"ngFor","ngForOf"],[1,"banner"],["class","mb-16",4,"ngIf"],["class","close",3,"click",4,"ngIf"],[3,"innerHTML"],[1,"mb-16"],["alt","",1,"icon",3,"src"],[1,"close",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,u,6,7,"ng-container",1),r["\u0275\u0275pipe"](2,"filter"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind3"](2,1,t.banners,"groupId",t.groupId)))},directives:[s.k,s.l],pipes:[o,p.a],styles:[".banners[_ngcontent-%COMP%]{margin:40px 0 0}.icon[_ngcontent-%COMP%]{width:48px;height:48px}.banner[_ngcontent-%COMP%]{position:relative;border-radius:12px;padding:24px;box-shadow:0 6px 16px rgba(230,235,245,.8);text-align:left;color:#3b3b3b;line-height:24px;background:#fff}.banner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{letter-spacing:-.02em}.close[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px;width:20px;height:20px;background:url(close.e02ea7ff7c33d6fb12e5.svg) 100% no-repeat;cursor:pointer}@media (min-width:1140px){.banners[_ngcontent-%COMP%]{position:absolute;top:0;left:100%;width:280px;margin:0 0 0 40px}}"]}),e})()},SfxQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("fXoL"),r=n("xgIS"),i=n("EY2u"),c=n("eIep"),s=n("pLZG"),o=n("1G5W"),p=n("tSjf"),h=n("S2y7"),l=n("j0Qm"),u=n("ofXK"),d=n("sYmb");const g=["checkButton"];function m(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",4),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,1,"CAPTCHA.ERROR"),"\n"))}let f=(()=>{class e extends p.a{constructor(e,t,n,r){super(),this.api=e,this.config=t,this.elementRef=n,this.changeDetector=r,this.authType=null,this.resolve=new a.EventEmitter,this.loaded=new a.EventEmitter,this.errorCaptcha=!1,this.loading=!0}ngOnInit(){Object(r.a)(document,"initCaptcha").pipe(Object(c.a)(()=>{this.loading=!1;const e=this.elementRef.nativeElement.querySelector("input");return this.changeDetector.markForCheck(),e?(e.autocomplete="off",Object(r.a)(e,"keyup")):(this.changeDetector.markForCheck(),i.a)}),Object(s.a)(e=>(this.changeDetector.markForCheck(),this.captcha.canBeCheck&&"Enter"===e.key)),Object(o.a)(this.unsubscribe)).subscribe(()=>this.checkCaptcha()),this.captcha=new CaptchaPlugin({widgetUri:this.config.params.host}),this.captcha.init("captcha-plugin",e=>{this.loaded.emit(e),"recaptcha"===e.typeCaptcha&&(window.verifyCallbackRecaptcha=e=>{this.captcha.recaptchaHash=e,this.checkButton.nativeElement.click()}),this.type=e.typeCaptcha,this.changeDetector.markForCheck()})}setInvalid(){this.errorCaptcha=!0,this.captcha.reload(),this.changeDetector.markForCheck()}checkCaptcha(){this.errorCaptcha=!1,this.captcha.check(e=>{var t,n;(null===(t=this.params)||void 0===t?void 0:t.submitPath)?this.authType?this.checkNewCaptchaProcessing(e,null===(n=this.params)||void 0===n?void 0:n.submitPath):this.checkCaptchaProcessing(e):this.checkNewCaptchaProcessing(e),this.changeDetector.markForCheck()})}checkCaptchaProcessing(e){var t;this.api.postRequest(null===(t=this.params)||void 0===t?void 0:t.submitPath,{verify_token:e,requestKey:this.params.requestKey}).subscribe(e=>{this.resolve.emit(e&&e.result?e.result:null),this.changeDetector.markForCheck()},e=>{this.setInvalid(),this.resolve.emit(e&&e.result?e.result:null),this.changeDetector.markForCheck()})}checkNewCaptchaProcessing(e,t){this.resolve.emit({token:e,endpoint:t})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](h.a),a["\u0275\u0275directiveInject"](l.a),a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-captcha"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](g,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.checkButton=n.first)},inputs:{authType:"authType",errors:"errors",params:"params"},outputs:{resolve:"resolve",loaded:"loaded"},features:[a["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:11,consts:[["id","captcha-plugin",1,"flex-container","justify-center"],["class","error-label",4,"ngIf"],[1,"plain-button","plain-button_wide","mt-40",3,"disabled","click"],["checkButton",""],[1,"error-label"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"div",0),a["\u0275\u0275template"](1,m,3,3,"div",1),a["\u0275\u0275elementStart"](2,"button",2,3),a["\u0275\u0275listener"]("click",(function(){return t.checkCaptcha()})),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classProp"]("captcha_loading",t.loading&&!(null!=t.captcha&&t.captcha.errorState))("error",t.errorCaptcha&&!t.captcha.errorState),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.errorCaptcha&&!t.captcha.errorState),a["\u0275\u0275advance"](1),a["\u0275\u0275styleProp"]("display",!t.type||"recaptcha"===t.type||t.captcha.errorState?"none":"inline-block"),a["\u0275\u0275property"]("disabled","esiacaptcha"===t.type&&!t.captcha.canBeCheck),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](5,9,"RECOVERY.CONTINUE"),"\n"))},directives:[u.l],pipes:[d.c],styles:[".captcha_loading[_ngcontent-%COMP%]{background:url(throbber-hexagon.1c1e4356c686b7ef608c.gif) no-repeat 50%;background-size:45px 52px;height:52px}"],changeDetection:0}),e})()}}]);