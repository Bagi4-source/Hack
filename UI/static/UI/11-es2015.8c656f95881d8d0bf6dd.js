(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"f++L":function(e,t,n){"use strict";n.r(t),n.d(t,"IdpModule",(function(){return nt}));var i=n("ofXK"),r=n("FpXt"),a=n("tyNb"),o=n("fXoL");let s=(()=>{class e{constructor(e){this.router=e}canActivate(e,t){return!!this.router.getCurrentNavigation().extras.state||this.router.navigate(["/"])}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("CHA6"),c=n("sYmb");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-ebs-loader"]],decls:8,vars:6,consts:[[1,"popup__body"],[1,"popup__title","title-h3","mb-24"],[1,"loader-wrapper"],[1,"loader"],[1,"text-helper","text-center","mt-24",3,"innerHTML"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h4",1),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275element"](5,"div",3),o["\u0275\u0275element"](6,"div",4),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,2,"EBS.MODAL_LOADER.TITLE")," "),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind1"](7,4,"EBS.MODAL_LOADER.PROCESS"),o["\u0275\u0275sanitizeHtml"]))},pipes:[c.c],styles:[".loader-wrapper[_ngcontent-%COMP%]{white-space:normal}.loader[_ngcontent-%COMP%]{margin:0 auto;width:80px;height:92px;background:url(throbber-hexagon.1c1e4356c686b7ef608c.gif) no-repeat 0 0;background-size:100%}"],changeDetection:0}),e})();var d=n("8iAA"),u=n("95Ly"),m=n("WHFS"),h=n("OUbo"),v=n("9YtQ"),f=n("F8Sv"),g=n("Iz2d");let E=(()=>{class e{constructor(e,t,n,i,r,a,o){this.router=e,this.authService=t,this.modalService=n,this.reactionService=i,this.activatedRoute=r,this.deviceService=a,this.changeDetector=o,this.endpoint="aas/oauth2",this.load=!0}ngOnInit(){const e=this.deviceService.getDeviceInfo().os;"Windows"===e||"Mac"===e||"Linux"===e?this.runCheckToken():this.loginState="invalid_device_ebs"}runCheckToken(){var e;this.token=null===(e=this.activatedRoute.snapshot.queryParams)||void 0===e?void 0:e.verify_token,this.modalService.destroyForm(),this.modalService.popupInject(p,null,{hideCloseButton:!0}),this.token?this.authService.checkEbsToken$(this.endpoint,this.token).subscribe(e=>{(e.action||e.failed)&&(e.redirect_url?window.location.href=e.redirect_url:(this.router.navigate(["/v2"],{queryParams:{loginState:"authProcessing"},relativeTo:this.activatedRoute,state:new d.a(e)}),this.modalService.destroyForm()));const t=new l.b(e);this.reactionService.checkResponse(t)||(this.load=!1,this.changeDetector.detectChanges())},()=>{this.setInvalidState(),this.load=!1,this.changeDetector.detectChanges()}):this.setInvalidState(),this.changeDetector.detectChanges()}setInvalidState(e){e?this.errorState=e:this.loginState="invalid_ebs",this.modalService.destroyForm()}goBack(){this.router.navigateByUrl("/")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](v.a),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-bio-verify"]],decls:4,vars:3,consts:[[1,"small-inner"],[1,"form-container","mb-20","mb-md-40","text-center"],[3,"backButton","loginState","errorState","eventGoBack"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275elementStart"](3,"esia-ebs",2),o["\u0275\u0275listener"]("eventGoBack",(function(){return t.goBack()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("backButton",!t.load)("loginState",t.loginState)("errorState",t.errorState))},directives:[f.a,g.a],styles:[""],changeDetection:0}),e})();var x=n("j0Qm");let I=(()=>{class e{constructor(e,t){var n,i,r;this.router=e,this.config=t;const a=this.router.getCurrentNavigation().extras.state;this.redirectUrl=a.redirect_url,this.confirmUrl=(null===(r=null===(i=null===(n=this.config)||void 0===n?void 0:n.params)||void 0===i?void 0:i.links)||void 0===r?void 0:r.lkUrl)+"/settings/account"}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](x.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-no-contacts"]],decls:16,vars:14,consts:[[1,"small-inner"],[1,"form-container","text-center","mb-20","mb-md-40"],[1,"error-sign","exclamation","mb-24"],[1,"title-h3","mb-24"],[1,"text-plain","mb-40"],[1,"plain-button","plain-button_wide","mb-24",3,"href"],[1,"link",3,"href"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275element"](3,"div",2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",4),o["\u0275\u0275text"](8),o["\u0275\u0275pipe"](9,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"a",5),o["\u0275\u0275text"](11),o["\u0275\u0275pipe"](12,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"a",6),o["\u0275\u0275text"](14),o["\u0275\u0275pipe"](15,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](6,6,"NO_CONTACTS.TITLE")),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](9,8,"NO_CONTACTS.DESCRIPTION")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("href",t.confirmUrl,o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](12,10,"NO_CONTACTS.CONFIRM")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("href",t.redirectUrl,o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](15,12,"NO_CONTACTS.SKIP")))},directives:[f.a],pipes:[c.c],styles:["",""]}),e})();var S=n("E6W3"),C=n("S2y7"),b=n("3Pt+"),y=n("tSjf");let w=(()=>{class e extends y.a{constructor(){super(),this.skipHandler=new o.EventEmitter,this.continueHandler=new o.EventEmitter,this.step=1}skip(){this.skipHandler.emit(null)}continue(){this.continueHandler.emit(null)}parseRestError(e,t){var n;const i=null===(n=e.error)||void 0===n?void 0:n.message;if(null!==i){const e=i.indexOf(".");-1!==e&&t.setErrors({restError:i.substring(e+1)})}else t.setErrors({restError:"default"})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,inputs:{advice:"advice"},outputs:{skipHandler:"skipHandler",continueHandler:"continueHandler"},features:[o["\u0275\u0275InheritDefinitionFeature"]]}),e})();var _=n("LG1p"),T=n("yA8g");function O(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS.REQUIRED")," "))}function R(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS.email.wrongFormat")," "))}function k(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS."+e.email.getError("restError"))," ")}}function D(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",9),o["\u0275\u0275template"](1,O,3,3,"ng-container",4),o["\u0275\u0275template"](2,R,3,3,"ng-container",4),o["\u0275\u0275template"](3,k,3,3,"ng-container",4),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.email.getError("email")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.email.getError("pattern")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.email.getError("restError"))}}function N(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"button",10),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).applyMail()})),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"a",11),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).skip()})),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",e.email.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,3,"ADVICE."+e.advice.type+".BUTTON")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](6,5,"ADVICE.LATER"))}}function V(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275element"](2,"esia-input",7),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275template"](4,D,4,3,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,N,7,7,"ng-container",4),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("labelText",o["\u0275\u0275pipeBind1"](3,4,"ADVICE.NO_EMAIL.LABEL"))("invalid",!e.email.pristine&&e.email.invalid),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.email.touched&&e.email.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",1===e.step)}}function B(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",12),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275pipe"](3,"date"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate2"](" ",o["\u0275\u0275pipeBind1"](2,2,"ADVICE.NO_EMAIL.CONFIRM_EMAIL_BEFORE")," ",o["\u0275\u0275pipeBind2"](3,4,e.lifetime,"dd.MM.yyyy")," ")}}const A=function(e){return{email:e}};let P=(()=>{class e extends w{constructor(e,t,n){super(),this.api=e,this.validation=t,this.formBuilder=n,this.endpoint="aas/oauth2/api/advice/email",this.form=n.group({email:new b.FormControl(null,[b.Validators.pattern(this.validation.pattern.email)])})}get email(){return this.form.get("email")}ngOnInit(){this.advice.type===l.a.EMAIL_NOT_CONFIRMED&&(this.email.setValue(this.advice.notConfirmedEmail),this.email.disable())}applyMail(){this.form.invalid?this.email.markAsDirty():this.api.postRequest(this.endpoint+"/enter-email",{email:this.email.value,type:this.advice.type}).subscribe(e=>{this.lifetime=(new Date).getTime()+e,this.step=2},e=>{this.parseRestError(e,this.email)})}resendMail(){}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](_.a),o["\u0275\u0275directiveInject"](b.FormBuilder))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["no-email-advice"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:14,consts:[[1,"small-inner"],[1,"form-container","text-center","mb-20","mb-md-40",3,"formGroup"],[1,"title-h3","mb-24"],[1,"text-plain",3,"innerHTML"],[4,"ngIf"],["class","mt-24",4,"ngIf"],[1,"input-control","mb-40"],["id","email","formControlName","email",3,"labelText","invalid"],["class","error-label text-left",4,"ngIf"],[1,"error-label","text-left"],[1,"plain-button","plain-button_wide","mb-24",3,"disabled","click"],[3,"click"],[1,"mt-24"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"form",1),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"div",3),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275template"](8,V,6,6,"ng-container",4),o["\u0275\u0275template"](9,B,4,7,"div",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("formGroup",t.form),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,7,"ADVICE."+t.advice.type+".TITLE_"+t.step)," "),o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("mb-40",1===t.step),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind2"](7,9,"ADVICE."+t.advice.type+".DESCRIPTION_"+t.step,o["\u0275\u0275pureFunction1"](12,A,t.email.value)),o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",1===t.step),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",2===t.step))},directives:[b["\u0275angular_packages_forms_forms_y"],b.NgControlStatusGroup,b.FormGroupDirective,f.a,i.l,T.a,b.NgControlStatus,b.FormControlName],pipes:[c.c,i.e],styles:["",""]}),e})();var L=n("1G5W"),H=n("HDdC"),F=n("D0XW"),j=n("Y7HM"),M=n("z+Ro");function G(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}var U=n("2ocl");function q(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS.REQUIRED")," "))}function W(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS.mobile.wrongFormat")," "))}function Q(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](4);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS."+e.phone.getError("restError"))," ")}}function K(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275template"](1,q,3,3,"ng-container",2),o["\u0275\u0275template"](2,W,3,3,"ng-container",2),o["\u0275\u0275template"](3,Q,3,3,"ng-container",2),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.phone.getError("required")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.phone.getError("pattern")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.phone.getError("restError"))}}function z(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275element"](2,"esia-input-mask",7),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275template"](4,K,4,3,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).enterPhone()})),o["\u0275\u0275text"](6),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"a",10),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).skip()})),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("mask",e.validation.mask.mobile)("labelText",o["\u0275\u0275pipeBind1"](3,7,"ADVICE.NO_PHONE.LABEL"))("invalid",!e.phone.pristine&&e.phone.invalid),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.phone.touched&&e.phone.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",e.phone.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](7,9,"ADVICE.CONTINUE")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](10,11,"ADVICE.LATER"))}}function X(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS.REQUIRED")," "))}function Y(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](4);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"ADVICE.ERRORS."+e.code.getError("restError"))," ")}}function $(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275template"](1,X,3,3,"ng-container",2),o["\u0275\u0275template"](2,Y,3,3,"ng-container",2),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.code.getError("required")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.code.getError("restError"))}}function J(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275element"](2,"esia-input",12),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275template"](4,$,3,2,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).enterCode()})),o["\u0275\u0275text"](6),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainer"](8,13),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2),t=o["\u0275\u0275reference"](8);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("autocomplete","off")("invalid",e.code.touched&&e.code.invalid)("labelText",o["\u0275\u0275pipeBind1"](3,7,"ADVICE.NO_PHONE.CODE")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.code.touched&&e.code.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",e.code.invalid),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](7,9,"ADVICE.CONTINUE")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngTemplateOutlet",t)}}const Z=function(e){return{mobile:e}};function ee(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",4),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"div",5),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275template"](6,z,11,13,"ng-container",2),o["\u0275\u0275template"](7,J,9,11,"ng-container",2),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,4,"ADVICE.NO_PHONE.TITLE")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind2"](5,6,"ADVICE.NO_PHONE.DESCRIPTION_"+e.step,o["\u0275\u0275pureFunction1"](9,Z,e.phone.value)),o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",1===e.step),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",2===e.step)}}function te(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",4),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",14),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"a",10),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().resendCode()})),o["\u0275\u0275text"](8),o["\u0275\u0275pipe"](9,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,3,"ADVICE.NO_PHONE.TITLE")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](6,5,"OTP.EXPIRED")),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](9,7,"ADVICE.NO_PHONE.RESEND_CODE")))}function ne(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",4),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"div",15),o["\u0275\u0275elementStart"](5,"div",16),o["\u0275\u0275text"](6),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainer"](8,13),o["\u0275\u0275elementContainerEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](8);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,3,"ADVICE.NO_PHONE.TITLE")," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](7,5,"OTP.NO_ATTEMPTS")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngTemplateOutlet",e)}}function ie(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"div",5),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementStart"](3,"button",17),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().enterPhone(!0)})),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"button",18),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().changeNumber()})),o["\u0275\u0275text"](7),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind2"](2,3,"ADVICE.CHECK_MOBILE.WARNING",o["\u0275\u0275pureFunction1"](10,Z,e.phone.value)),o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,6,"REGISTRATION.CHECK_MOBILE.CONTINUE")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](8,8,"REGISTRATION.CHECK_MOBILE.CHANGE")," ")}}const re=function(e){return{x:e}};function ae(e,t){if(1&e&&(o["\u0275\u0275element"](0,"div",20),o["\u0275\u0275pipe"](1,"translate"),o["\u0275\u0275pipe"](2,"date")),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("innerHtml",o["\u0275\u0275pipeBind2"](1,1,"ADVICE.NO_PHONE.CODE_TIMER",o["\u0275\u0275pureFunction1"](7,re,o["\u0275\u0275pipeBind2"](2,4,1e3*e.resendTimer,"mm:ss"))),o["\u0275\u0275sanitizeHtml"])}}function oe(e,t){if(1&e&&o["\u0275\u0275template"](0,ae,3,9,"div",19),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngIf",e.resendTimer>0)}}let se=(()=>{class e extends w{constructor(e,t,n){super(),this.api=e,this.validation=t,this.formBuilder=n,this.endpoint="aas/oauth2/api/advice/no-phone",this.resendTimer=1,this.form=n.group({phone:new b.FormControl(null,[b.Validators.pattern(this.validation.pattern.mobile)]),code:new b.FormControl(null,[b.Validators.required])}),this.code.disable()}get phone(){return this.form.get("phone")}get code(){return this.form.get("code")}changeNumber(){this.error=null,this.phone.setValue(null)}enterPhone(e=!1){if(this.form.invalid)this.phone.markAsDirty();else{if(/(?:\(9)/.test(this.phone.value))this.error=null;else if(!e)return void(this.error="check_mobile");const t=this.phone.value.replace(/[ -]/g,"");this.api.postRequest(this.endpoint+"/enter-phone",{phone:t}).subscribe(e=>{this.code.enable(),this.step=2,this.startTimer(e)},e=>{this.parseRestError(e,this.phone)})}}enterCode(){this.form.invalid?this.code.markAsDirty():this.api.postRequest(this.endpoint+"/enter-code",{code:this.code.value}).subscribe(()=>{this.continue()},e=>{e&&e.error&&e.message&&(-1!==e.error.message.indexOf("no.attempts")?this.error="no_attempts":-1!==e.error.message.indexOf("isExpired")?this.stopTimer():this.parseRestError(e,this.code))})}resendCode(){this.error=null,this.api.postRequest(this.endpoint+"/resend-code",null).subscribe(e=>{this.startTimer(e)})}stopTimer(){this.timerSubscription.unsubscribe(),this.timerSubscription=null,this.resendTimer=0,this.error="expired"}startTimer(e){this.timerSubscription&&this.timerSubscription.unsubscribe();const t=(new Date).getTime();this.resendTimer=e,this.timerSubscription=function(e=0,t,n){let i=-1;return Object(j.a)(t)?i=Number(t)<1?1:Number(t):Object(M.a)(t)&&(n=t),Object(M.a)(n)||(n=F.a),new H.a(t=>{const r=Object(j.a)(e)?e:+e-n.now();return n.schedule(G,r,{index:0,period:i,subscriber:t})})}(1e3,1e3).pipe(Object(L.a)(this.unsubscribe)).subscribe(n=>{const i=(new Date).getTime();this.resendTimer=e-Math.ceil((i-t)/1e3),this.resendTimer<=0&&this.stopTimer()})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](_.a),o["\u0275\u0275directiveInject"](b.FormBuilder))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["no-phone-advice"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:5,consts:[[1,"small-inner"],[1,"form-container","text-center","mb-20","mb-md-40",3,"formGroup"],[4,"ngIf"],["timer",""],[1,"title-h3","mb-24"],[1,"text-plain","mb-40",3,"innerHTML"],[1,"input-control","mb-40"],["id","phone","formControlName","phone",3,"mask","labelText","invalid"],["class","error-label text-left",4,"ngIf"],[1,"plain-button","plain-button_wide","mb-24",3,"disabled","click"],[3,"click"],[1,"error-label","text-left"],["id","code","formControlName","code",3,"autocomplete","invalid","labelText"],[3,"ngTemplateOutlet"],[1,"text-plain","mb-24"],[1,"no-attempts","mb-24"],[1,"text-plain","red","mb-24"],[1,"plain-button","plain-button_white","plain-button_wide","mb-24",3,"click"],[1,"plain-button","plain-button_wide",3,"click"],["class","text-plain",3,"innerHtml",4,"ngIf"],[1,"text-plain",3,"innerHtml"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"form",1),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275template"](3,ee,8,11,"ng-container",2),o["\u0275\u0275template"](4,te,10,9,"ng-container",2),o["\u0275\u0275template"](5,ne,9,7,"ng-container",2),o["\u0275\u0275template"](6,ie,9,12,"ng-container",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,oe,1,1,"ng-template",null,3,o["\u0275\u0275templateRefExtractor"])),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("formGroup",t.form),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.error),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","expired"===t.error),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","no_attempts"===t.error),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","check_mobile"===t.error))},directives:[b["\u0275angular_packages_forms_forms_y"],b.NgControlStatusGroup,b.FormGroupDirective,f.a,i.l,U.a,b.NgControlStatus,b.FormControlName,T.a,i.p],pipes:[c.c,i.e],styles:[".no-attempts[_ngcontent-%COMP%]{display:inline-block;width:87px;height:80px;background:url(no-attempts.5db8a843e9db2608f41e.svg) no-repeat 50%;background-size:100%}",""]}),e})();var le=n("qZrB");const ce=function(e){return{phone:e}};function pe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"div",3),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275pipe"](3,"cleanPhoneNumber"),o["\u0275\u0275elementStart"](4,"button",4),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().turnOn()})),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"a",5),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().skip()})),o["\u0275\u0275text"](8),o["\u0275\u0275pipe"](9,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind2"](2,3,"ADVICE.OTP.DESCRIPTION",o["\u0275\u0275pureFunction1"](12,ce,o["\u0275\u0275pipeBind1"](3,6,e.advice.phone))),o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](6,8,"ADVICE.OTP.BUTTON")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](9,10,"ADVICE.LATER"))}}let de=(()=>{class e extends w{constructor(e){super(),this.api=e,this.endpoint="aas/oauth2/api/advice/otp"}turnOn(){this.api.postRequest(this.endpoint+"/enable").subscribe(e=>{this.continue()},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["no-otp-advice"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:1,consts:[[1,"small-inner"],[1,"form-container","text-center","mb-20","mb-md-40"],[4,"ngIf"],[1,"text-plain","mb-40",3,"innerHTML"],[1,"plain-button","plain-button_wide","mb-24",3,"click"],[3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275template"](3,pe,10,14,"ng-container",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",1===t.step))},directives:[f.a,i.l],pipes:[c.c,le.a],styles:["",""]}),e})();function ue(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"no-email-advice",1),o["\u0275\u0275listener"]("skipHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().skip()}))("continueHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().continue()})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("advice",e.advice)}}function me(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"no-phone-advice",1),o["\u0275\u0275listener"]("skipHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().skip()}))("continueHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().continue()})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("advice",e.advice)}}function he(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"no-otp-advice",1),o["\u0275\u0275listener"]("skipHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().skip()}))("continueHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().continue()})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("advice",e.advice)}}let ve=(()=>{class e{constructor(e,t){this.router=e,this.api=t,this.endpoint="aas/oauth2/api/advice",this.AdviceType=l.a,this.response=e.getCurrentNavigation().extras.state,this.advice=this.response.advice,this.advice.phone&&(this.advice.phone=this.advice.phone.replace(/(\+\d)(\(\d{3}\))(\d{3})(\d{2})(\d{2})/g,"$1 $2 $3-$4-$5"))}ngOnInit(){}skip(){this.api.postRequest(this.endpoint+"/skip",{type:this.advice.type}).subscribe(e=>{this.continue()})}continue(){this.response.redirect_url&&(window.location.href=this.response.redirect_url)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](C.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["advice"]],decls:3,vars:3,consts:[[3,"advice","skipHandler","continueHandler",4,"ngIf"],[3,"advice","skipHandler","continueHandler"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,ue,1,1,"no-email-advice",0),o["\u0275\u0275template"](1,me,1,1,"no-phone-advice",0),o["\u0275\u0275template"](2,he,1,1,"no-otp-advice",0)),2&e&&(o["\u0275\u0275property"]("ngIf",t.advice.type===t.AdviceType.NO_EMAIL||t.advice.type===t.AdviceType.EMAIL_NOT_CONFIRMED),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.advice.type===t.AdviceType.NO_PHONE),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.advice.type===t.AdviceType.OTP_NOT_ENABLED))},directives:[i.l,P,se,de],styles:[""]}),e})();var fe=n("2Hrk"),ge=n("bOGp"),Ee=n("I8Zc"),xe=n("HrSU"),Ie=n("cvmq"),Se=n("xJ3q"),Ce=n("pLZG"),be=n("Paoq"),ye=n("Gk2f"),we=n("JsaA"),_e=n("Xdk4"),Te=n("55/F"),Oe=n("q3pR"),Re=n("b6Qw"),ke=n("b8Vu"),De=n("3uuC"),Ne=n("Eg8k"),Ve=n("Y6wK"),Be=n("2IMn");function Ae(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"esia-login-found",22),o["\u0275\u0275listener"]("close",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](4).changeLogin()})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](4);o["\u0275\u0275property"]("login",e.login.value)("avatar",e.avatar)}}function Pe(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"IDP.ERRORS.LOGIN_REQUIRED")," "))}function Le(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",23),o["\u0275\u0275elementStart"](1,"esia-input",24),o["\u0275\u0275listener"]("keyup",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](4).clearErrors()}))("change",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](4);return t.clearControlValue(t.login)})),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,Pe,3,3,"div",25),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](4);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("invalid",!e.login.pristine&&e.login.invalid)("name",o["\u0275\u0275pipeBind1"](2,5,"IDP.LOGIN"))("labelText",o["\u0275\u0275pipeBind1"](3,7,"IDP.LOGIN"))("autocomplete","new-password"),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!e.login.pristine&&e.login.getError("required"))}}function He(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",27),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"IDP.UNEXPECTED.TITLE")," "))}function Fe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",28),o["\u0275\u0275elementStart"](1,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](4).loginState="eds"})),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,1,"IDP.EDS_LINK")," "))}function je(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",11),o["\u0275\u0275template"](1,Ae,1,2,"esia-login-found",12),o["\u0275\u0275template"](2,Le,5,9,"div",13),o["\u0275\u0275elementStart"](3,"div",14),o["\u0275\u0275elementStart"](4,"esia-input-password",15),o["\u0275\u0275listener"]("keyup",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).clearErrors()}))("change",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](3);return t.clearControlValue(t.password)})),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275pipe"](7,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",16),o["\u0275\u0275elementStart"](9,"button",9),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](3);return t.openLink(t.links.recovery,!0)})),o["\u0275\u0275text"](10),o["\u0275\u0275pipe"](11,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,He,3,3,"div",17),o["\u0275\u0275elementStart"](13,"div",18),o["\u0275\u0275elementStart"](14,"button",19),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).auth()})),o["\u0275\u0275text"](15),o["\u0275\u0275pipe"](16,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](17,Fe,4,3,"div",20),o["\u0275\u0275elementStart"](18,"div",21),o["\u0275\u0275elementStart"](19,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).openFAQ()})),o["\u0275\u0275text"](20),o["\u0275\u0275pipe"](21,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275property"]("formGroup",e.form),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.loginFound),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.loginFound),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("invalid",!e.password.pristine&&e.password.invalid)("labelText",o["\u0275\u0275pipeBind1"](5,16,"IDP.PASSWORD"))("autocomplete","new-password")("name",o["\u0275\u0275pipeBind1"](6,18,"IDP.PASSWORD"))("errorText",o["\u0275\u0275pipeBind1"](7,20,e.passwordErrorText))("commitOnInput",!1)("showRules",!0),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](11,22,"IDP.RECOVERY")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.form.getError("unexpected")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",e.busy),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](16,24,"IDP.LOGIN_BUTTON")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.isDesktop),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](21,26,"IDP.LOGIN_ISSUES")," ")}}function Me(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",28),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"button",29),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).edsAuth()})),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",28),o["\u0275\u0275elementStart"](8,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).edsErrorModal()})),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",21),o["\u0275\u0275elementStart"](12,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).loginState="password"})),o["\u0275\u0275text"](13),o["\u0275\u0275pipe"](14,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,4,"IDP.INSERT_EDS")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](6,6,"IDP.DONE")," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](10,8,"IDP.EDS_ISSUES")," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](14,10,"IDP.BACK")," "))}function Ge(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275template"](3,je,22,28,"form",7),o["\u0275\u0275template"](4,Me,15,12,"ng-container",0),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",8),o["\u0275\u0275elementStart"](6,"button",9),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](2);return t.openLink(t.links.registration)})),o["\u0275\u0275text"](7),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](9,"esia-banner",10),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf","password"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","eds"===e.loginState),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](8,4,"IDP.REGISTER")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("groupId",e.bannerGroupId)}}const Ue=function(e){return{phone:e}};function qe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",30),o["\u0275\u0275element"](1,"esia-header"),o["\u0275\u0275elementStart"](2,"h3",31),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"esia-otp",32),o["\u0275\u0275listener"]("otpSuccess",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).otpVerify(t)}))("otpRenew",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).otpRenew()})),o["\u0275\u0275pipe"](6,"translate"),o["\u0275\u0275pipe"](7,"cleanPhoneNumber"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](4,5,"OTP.TITLE")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("description",o["\u0275\u0275pipeBind2"](6,7,"OTP.DESCRIPTION",o["\u0275\u0275pureFunction1"](12,Ue,o["\u0275\u0275pipeBind1"](7,10,e.login.value))))("codeType",e.action.data.otpCodeLength?e.verifyCodeType.Length:e.verifyCodeType.Free)("length",e.action.data.otpCodeLength)("otpData",e.action.data)}}function We(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",33),o["\u0275\u0275elementStart"](1,"esia-ttp",34),o["\u0275\u0275listener"]("goBackEvent",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).changeState("password")}))("checkCode",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).ttpVerify(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("state",e.loginState)("codeType",e.verifyCodeLength?e.verifyCodeType.Length:e.verifyCodeType.Free)("length",e.verifyCodeLength)}}function Qe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",30),o["\u0275\u0275element"](1,"esia-header"),o["\u0275\u0275elementStart"](2,"esia-ebs",35),o["\u0275\u0275listener"]("eventGoBack",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).changeState("password")})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("loginState",e.loginState)}}function Ke(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",36),o["\u0275\u0275elementStart"](1,"div",37),o["\u0275\u0275element"](2,"esia-header"),o["\u0275\u0275elementStart"](3,"esia-change-password",38),o["\u0275\u0275listener"]("newPassword",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).changePassword(t)})),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("title",o["\u0275\u0275pipeBind1"](4,1,"CHANGE_PASSWORD.TITLE_NEW")))}function ze(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"esia-global-error",39),o["\u0275\u0275listener"]("goBackHandler",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).loginState="password"})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("state",e.loginState)("redirectUrl",e.redirectUrl)("links",e.links)}}function Xe(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"esia-disclaimers"),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275template"](3,Ge,10,6,"ng-container",0),o["\u0275\u0275template"](4,qe,8,14,"div",2),o["\u0275\u0275template"](5,We,2,3,"div",3),o["\u0275\u0275template"](6,Qe,3,1,"div",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,Ke,5,3,"div",4),o["\u0275\u0275template"](8,ze,1,3,"esia-global-error",5),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf","password"===e.loginState||"eds"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","otp"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","ttp"===e.loginState||"invalid_ttp"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","invalid_device_ebs"===e.loginState||"bio_data_is_outdated"===e.loginState||"invalid_ebs"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","change_password"===e.loginState),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.isGlobalErrorState)}}const Ye=[{path:"",component:(()=>{class e extends y.a{constructor(e,t,n,i,r,a,o,s,l,c,p,d,u){super(),this.router=e,this.activatedRoute=t,this.api=n,this.reactionService=i,this.config=r,this.ifcService=a,this.formBuilder=o,this.detectLogin=s,this.constants=l,this.modalService=c,this.validationService=p,this.deviceService=d,this.cookieService=u,this.loginState="password",this.links=this.config.params.links,this.isDesktop=this.constants.isDesktop,this.endpoint="aas/oauth2/api",this.action={},this.logged=!1,this.loginFound=!1,this.busy=!1,this.form=o.group({login:new b.FormControl("",[b.Validators.required]),password:new b.FormControl("",[b.Validators.required])}),"oauth_ab"===u.get("sso_segment")&&e.navigate(["v2"])}ngOnInit(){var e;if(this.router.events.pipe(Object(Ce.a)(e=>e instanceof a.b),Object(L.a)(this.unsubscribe)).subscribe(()=>{var e;"eds"===(null===(e=this.activatedRoute.snapshot.queryParams)||void 0===e?void 0:e.loginState)&&(this.loginState="eds")}),"eds"===(null===(e=this.activatedRoute.snapshot.queryParams)||void 0===e?void 0:e.loginState))this.loginState="eds";else if(this.detectLogin.check()){const e=this.detectLogin.login;this.loginFound=!0,this.login.setValue(e),this.detectLogin.avatar$.subscribe(e=>this.avatar=e)}this.activatedRoute.queryParams.subscribe(e=>{this.logged=void 0!==e.logged,this.logged&&this.auth()})}get verifyCodeType(){return l.e}get login(){return this.form.get("login")}get password(){return this.form.get("password")}get passwordErrorText(){return this.password.pristine?"":this.password.getError("emptyFields")?"IDP.ERRORS.EMPTY_FIELDS":this.password.getError("required")?"IDP.ERRORS.PASSWORD_REQUIRED":this.password.getError("wrong")?"IDP.ERRORS.WRONG_PASSWORD":void 0}get isGlobalErrorState(){return["unexpected_error","account_is_locked","eds_error","eds_blocked","eds_user","otp_exceeded","ttp_exceeded","timeout_error","org_access_denied","unknown_certificate","certificate_user_not_match"].includes(this.loginState)}get bannerGroupId(){return fe.a.AUTH}auth(){const e=this.logged?{login:null,idType:null}:this.validationService.formatLogin(this.login);this.logged||(!this.form.invalid||e)&&this.password.value?(this.busy=!0,this.api.postRequest(this.endpoint+"/login",Object.assign(Object.assign({},e),{password:this.logged?null:this.password.value})).subscribe(t=>{if(null===t&&(window.location.href="/"),!this.reactionService.checkResponse(t,{successCallback:()=>this.auth(),errorCallback:()=>this.auth()})){if(this.action=new l.b(t),("successful"!==t.status||t.advice||t.grant||!t.redirect_url)&&(this.logged=!1),this.processState(this.action.error))return this.redirectUrl=t.redirect_url,void(this.loginState=this.processState(this.action.error));if(this.action.type===l.c.OTP&&(this.loginState="otp",this.login.setValue(this.action.data.phone)),this.action.type===l.c.TTP&&(this.loginState="ttp",t.additional_data_totp.totp_code_length&&(this.verifyCodeLength=t.additional_data_totp.totp_code_length)),this.action.type===l.c.EBS){const e=this.deviceService.getDeviceInfo().os,n=Boolean(this.cookieService.get("can_bio"));e===we.a.Windows||e===we.a.Mac||e===we.a.Linux||n?window.location.href=t.redirect_url:this.loginState="invalid_device_ebs"}this.action.type===l.c.CHANGE_PASSWORD&&(this.loginState="change_password"),this.action.error===l.d.WRONG_PASSWORD?(this.password.setErrors({wrong:!0}),this.login.setErrors({invalid:!0})):this.action.error?this.form.setErrors({unexpected:!0}):e&&e.idType&&this.detectLogin.saveLogin(e),this.busy=!1}},e=>{404===e.status&&(window.location.href="/"),403===e.status&&e.error.error===l.d.INVALID_EBS&&(this.loginState=l.d.INVALID_EBS),403===e.status&&e.error.error===l.d.OUTDATED_EBS&&(this.loginState=l.d.OUTDATED_EBS),this.logged=!1,this.busy=!1})):(this.login.markAsDirty(),this.password.markAsDirty(),this.password.value||this.password.setErrors({required:!0}),this.login.value||this.password.value||(this.login.setErrors({}),this.password.setErrors({emptyFields:!0})))}edsAuth(){this.ifcService.checkPlugin().then(()=>{this.api.getRequest(this.endpoint+"/login/digital/request").subscribe(e=>{this.ifcService.sign(e.challenge).then(e=>{this.api.postRequest(this.endpoint+"/login/digital/validate",{signature:e.sign}).subscribe(e=>{"successful"===e.status?window.location.href=e.redirect_url:(this.ifcService.closeModals(),this.processState(e.error)&&(this.redirectUrl=e.redirect_url,this.loginState=this.processState(e.error)))})})})})}otpVerify(e){this.api.postRequest(this.endpoint+"/login/otp/verify",{code:e}).subscribe(e=>{this.verifyResponseProcessing(e)})}ttpVerify(e){this.api.postRequest(this.endpoint+"/login/totp/verify",{code:e}).subscribe(e=>{this.verifyResponseProcessing(e)})}verifyResponseProcessing(e){if(this.reactionService.checkResponse(e,{successCallback:()=>this.auth(),errorCallback:()=>this.auth()}))return;const t=new l.b(e);this.processState(t.error)?this.loginState=this.processState(t.error):t.error===l.d.WRONG_OTP?(this.action.data=new Se.a(e.additional_data),this.otp.setInvalid()):t.error===l.d.WRONG_TTP&&(this.ttp.setError(ye.b.WrongTtp),this.ttp.clearCodeInput())}otpRenew(){this.api.postRequest(this.endpoint+"/login/otp/renew").subscribe(e=>{this.action=new l.b(e),this.otp.restartTimer(this.action.data)})}changePassword(e){this.api.postRequest(this.endpoint+"/change-password",{newPassword:e}).subscribe(e=>{var t;this.action=new l.b(e),this.action.type===l.c.OTP&&(this.loginState="otp"),this.action.error&&(this.newPassword.error="IDP.ERRORS.NEW_PASSWORD"),(null===(t=this.action.data)||void 0===t?void 0:t.phone)&&this.login.setValue(this.action.data.phone)})}openFAQ(){this.modalService.popupInject(ge.a,null)}edsErrorModal(){this.modalService.popupInject(Ee.a,null,{type:"issues"})}changeLogin(){this.loginFound=!1,this.login.setValue(""),this.login.markAsPristine()}clearErrors(){this.login.value&&this.login.setErrors(null),this.password.setErrors(null)}openLink(e,t=!1){"/"===e[0]?t&&this.password.getError("wrong")?this.router.navigate([e],{state:Object.assign({},this.validationService.formatLogin(this.login))}):this.router.navigate([e]):window.location.href=e}processState(e){switch(e){case l.d.ACCOUNT_IS_LOCKED:return"account_is_locked";case l.d.EDS_LOGIN_DISABLED:return"eds_error";case l.d.EDS_LOGIN_BLOCKED:return"eds_blocked";case l.d.EDS_USER_NOT_MATCH:return"certificate_user_not_match";case l.d.UNKNOWN_CERTIFICATE:return"unknown_certificate";case l.d.OTP_ATTEMPTS_EXCEEDED:return"otp_exceeded";case l.d.TIMEOUT_ERROR:return"timeout_error";case l.d.ORG_ACCESS_DENIED:return"org_access_denied";case l.d.UNKNOWN:case l.d.COOKIE_EMPTY:return"unexpected_error";case l.d.OUTDATED_EBS:return"bio_data_is_outdated"}return!1}clearControlValue(e){this.validationService.controlTrim(e)}changeState(e){this.loginState=e}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](x.a),o["\u0275\u0275directiveInject"](_e.a),o["\u0275\u0275directiveInject"](b.FormBuilder),o["\u0275\u0275directiveInject"](Te.a),o["\u0275\u0275directiveInject"](Oe.a),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](_.a),o["\u0275\u0275directiveInject"](v.a),o["\u0275\u0275directiveInject"](Re.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-idp"]],viewQuery:function(e,t){var n;1&e&&(o["\u0275\u0275viewQuery"](Ie.a,!0),o["\u0275\u0275viewQuery"](be.a,!0),o["\u0275\u0275viewQuery"](xe.a,!0)),2&e&&(o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.otp=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.ttp=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.newPassword=n.first))},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"small-inner"],["class","form-container text-center",4,"ngIf"],["class","form-container",4,"ngIf"],["class","container",4,"ngIf"],[3,"state","redirectUrl","links","goBackHandler",4,"ngIf"],[1,"form-container","mb-20","mb-md-40"],[3,"formGroup",4,"ngIf"],[1,"text-center","mb-md-40"],["type","button",1,"plain-button-inline",3,"click"],[3,"groupId"],[3,"formGroup"],[3,"login","avatar","close",4,"ngIf"],["class","input-control mb-20",4,"ngIf"],[1,"input-control","mb-8"],["id","password","formControlName","password",3,"invalid","labelText","autocomplete","name","errorText","commitOnInput","showRules","keyup","change"],[1,"flex-container","justify-between","mb-40"],["class","error-label mb-32",4,"ngIf"],[1,"mb-24"],[1,"plain-button","plain-button_wide",3,"disabled","click"],["class","text-center mb-40",4,"ngIf"],[1,"text-center"],[3,"login","avatar","close"],[1,"input-control","mb-20"],["id","login","formControlName","login",3,"invalid","name","labelText","autocomplete","keyup","change"],["class","error-label",4,"ngIf"],[1,"error-label"],[1,"error-label","mb-32"],[1,"text-center","mb-40"],[1,"plain-button","plain-button_wide","mb-32",3,"click"],[1,"form-container","text-center"],[1,"title-h3","mb-24"],[3,"description","codeType","length","otpData","otpSuccess","otpRenew"],[1,"form-container"],[3,"state","codeType","length","goBackEvent","checkCode"],[3,"loginState","eventGoBack"],[1,"container"],[1,"form-container","mb-20","mb-md-36"],[3,"title","newPassword"],[3,"state","redirectUrl","links","goBackHandler"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,Xe,9,6,"ng-container",0),2&e&&o["\u0275\u0275property"]("ngIf",!t.logged)},directives:[i.l,ke.a,f.a,De.a,b["\u0275angular_packages_forms_forms_y"],b.NgControlStatusGroup,b.FormGroupDirective,Ne.a,b.NgControlStatus,b.FormControlName,Ve.a,T.a,Ie.a,be.a,g.a,xe.a,Be.a],pipes:[c.c,le.a],styles:[""]}),e})()},{path:"bio/verify",component:E},{path:"advice",component:ve,canActivate:[s]},{path:"grant",component:S.a,canActivate:[s]},{path:"nocontacts",component:I,canActivate:[s]}];let $e=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(Ye)],a.f]}),e})();var Je=n("tk/3"),Ze=n("ixO3"),et=n("yPsq"),tt=n("mEFa");let nt=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,Je.c,r.a,$e,c.b,b.FormsModule,b.ReactiveFormsModule,Ze.a,tt.a,et.a]]}),e})()}}]);