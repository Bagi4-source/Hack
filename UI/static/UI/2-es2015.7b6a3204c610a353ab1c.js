(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2ocl":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),r=n("yA8g"),o=n("3Pt+"),a=n("904P"),s=n("ofXK");const l=["input"];function c(e,t){if(1&e&&i["\u0275\u0275element"](0,"label",3),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("innerHTML",e.labelText,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275attribute"]("for",e.id?e.id:null)}}const d=function(e){return{mask:e,guide:!1}};let p=(()=>{class e extends r.a{constructor(){super(),this.value=""}commit(e){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-input-mask"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](l,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputElement=n.first)},inputs:{mask:"mask",errorText:"errorText"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)(()=>e),multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:19,consts:[["id","password","type","text",1,"plain-input",3,"disabled","textMask","value","change","input","focus","blur"],["input",""],["class","input-label",3,"innerHTML",4,"ngIf"],[1,"input-label",3,"innerHTML"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"input",0,1),i["\u0275\u0275listener"]("change",(function(){return t.handleChange()}))("input",(function(){return t.handleInput()}))("focus",(function(){return t.triggerFocus()}))("blur",(function(){return t.triggerBlur()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,c,1,2,"label",2)),2&e&&(i["\u0275\u0275classProp"]("no-label",!t.labelText)("invalid",t.invalid)("filled",t.value.length>0),i["\u0275\u0275property"]("disabled",t.disabled)("textMask",i["\u0275\u0275pureFunction1"](17,d,t.mask))("value",t.value),i["\u0275\u0275attribute"]("id",t.id?t.id:null)("name",t.name?t.name:null)("tabIndex",t.tabIndex)("autocomplete",t.autocomplete?t.autocomplete:null)("minlength",t.minlength)("maxlength",t.maxlength)("placeholder",t.placeholder),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.labelText))},directives:[a.MaskedInputDirective,s.l],styles:[""]}),e})()},"8iAA":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Gk2f"),r=n("xJ3q");class o{constructor(e){var t;this.login=null,this.error=null,this.blocking=null,this.mfaType=null,this.mfaDetails={},this.login=e.action,e.redirect_url&&(this.redirectUrl=e.redirect_url),this.login===i.d.EnterMfa&&(this.mfaType=e.mfa_details.type,this.mfaType===i.c.Sms&&(this.mfaDetails.otp=new r.a(e.mfa_details.otp_details,e.mfa_details.otp_details.phone)),this.mfaType===i.c.Ttp&&(this.mfaDetails.ttp={ttpCodeLength:e.mfa_details.ttp_details.code_length}),this.mfaType===i.c.Ebs&&(this.redirectUrl=e.mfa_details.ebs_details.redirect_url)),!1===(null==e?void 0:e.password_solved)&&(this.login=i.d.LoginRequired,this.error=i.b.WrongPassword),this.login===i.d.ChangePassword&&(this.passwordPolicies=e.change_pwd_details.password_policies),this.login===i.d.GrantScopeAccess&&(this.grantScopesDetails={clientName:e.grant_scopes_details.client_name,scopes:e.grant_scopes_details.scopes_to_delegate}),(null==e?void 0:e.blocked)&&(this.blocking=null==e?void 0:e.blocked),this.login===i.d.SolveAnomalyReaction&&(this.reactionDetails=e.reaction_details),this.login===i.d.UnconditionalCaptcha&&(this.login=i.d.UnconditionalCaptcha),(null==e?void 0:e.failed)&&(this.error=null==e?void 0:e.failed),(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.code)&&(this.error=e.error.code)}}},"BmY/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("NZ3S");const o=["codeInput"];let a=(()=>{class e{constructor(){this.isCodeHidden=!1,this.checkValue=new i.EventEmitter,this.changeValue=new i.EventEmitter,this.equalToPreviousValue=new i.EventEmitter}clearValue(){this.codeInput.reset(),this.codeInput.focusOnField(0)}onCodeCompleted(e){this.prevValue!==e?(this.checkValue.emit(e),this.prevValue=e):this.equalToPreviousValue.emit(this.prevValue)}keyEvent(e){if("ArrowLeft"===e.code){const e=document.activeElement.parentElement.previousElementSibling;e&&e.querySelector("input").focus()}if("ArrowRight"===e.code){const e=document.activeElement.parentElement.nextElementSibling;e&&e.querySelector("input").focus()}}onCodeChanged(){this.changeValue.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-code-input"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](o,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.codeInput=n.first)},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("keyup",(function(e){return t.keyEvent(e)}),!1,i["\u0275\u0275resolveWindow"])},inputs:{labelText:"labelText",length:"length",isCodeHidden:"isCodeHidden"},outputs:{checkValue:"checkValue",changeValue:"changeValue",equalToPreviousValue:"equalToPreviousValue"},decls:5,vars:4,consts:[[1,"code-input"],[1,"code-input__label","text-left","text-plain-small","mb-4"],[3,"initialFocusField","isCodeHidden","codeLength","codeCompleted","codeChanged"],["codeInput",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"label",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"code-input",2,3),i["\u0275\u0275listener"]("codeCompleted",(function(e){return t.onCodeCompleted(e)}))("codeChanged",(function(){return t.onCodeChanged()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.labelText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("initialFocusField",0)("isCodeHidden",t.isCodeHidden)("codeLength",t.length))},directives:[r.a],styles:[".title-h1[_ngcontent-%COMP%], .title-h2[_ngcontent-%COMP%], .title-h3[_ngcontent-%COMP%], .title-h4[_ngcontent-%COMP%], .title-h5[_ngcontent-%COMP%], .title-h6[_ngcontent-%COMP%]{font-family:Lato,Helvetica,Arial,sans-serif,-apple-system;font-weight:700;color:#0b1f33}.title-h1[_ngcontent-%COMP%]{font-size:28px;line-height:32px}.title-h2[_ngcontent-%COMP%]{font-size:26px;line-height:32px}.title-h3[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.title-h4[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.title-h5[_ngcontent-%COMP%]{font-size:18px;line-height:26px}.text-plain[_ngcontent-%COMP%], .title-h6[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.text-plain[_ngcontent-%COMP%]{font-family:Lato,Helvetica,Arial,sans-serif,-apple-system;color:#0b1f33;font-weight:400}.text-plain[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .text-plain[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:inherit;text-decoration:none}.text-plain-small[_ngcontent-%COMP%]{font-family:Lato,Helvetica,Arial,sans-serif,-apple-system;color:#0b1f33;font-size:14px;line-height:20px;font-weight:400}.text-plain-small[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .text-plain-small[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:inherit;text-decoration:none}.text-helper[_ngcontent-%COMP%]{color:#66727f}.red[_ngcontent-%COMP%]{color:#ee3f58}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.code-input__label[_ngcontent-%COMP%]{display:block}code-input[_ngcontent-%COMP%]{--text-security-type:disc;--item-spacing:0;--item-height:52px;--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:2px solid #99b1e6;--item-border-bottom-focused:2px solid #99b1e6;--item-shadow-focused:none;--item-border-radius:8px;--item-background:#f5f7fa;--item-font-weight:400;--color:#171516;display:flex;transform:translateZ(0);font-size:inherit;color:#0b1f33}code-input[_ngcontent-%COMP%]     span{display:block;flex:1;padding-right:0}code-input[_ngcontent-%COMP%]     span:not(:last-child){margin-right:12px}code-input[_ngcontent-%COMP%]     span.code-hidden input{text-security:disc;-webkit-text-security:disc;-moz-text-security:disc}code-input[_ngcontent-%COMP%]     input{width:100%;height:52px;color:inherit;background:#f5f7fa;text-align:center;font-size:inherit;font-weight:400;border:none;border-radius:8px;-webkit-appearance:none;transform:translateZ(0);-webkit-transform:translateZ(0);outline:inherit!important}code-input[_ngcontent-%COMP%]     input.has-value{border:none}code-input[_ngcontent-%COMP%]     input:focus{border:2px solid #99b1e6;box-shadow:none}"]}),e})()},CHA6:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("xJ3q"),r=function(e){return e.INTERNAL="internal.error",e.UNKNOWN="unknown_error",e.COOKIE_EMPTY="esia_session_cookie_empty",e.WRONG_PASSWORD="wrong_password",e.WRONG_OTP="invalid_otp",e.WRONG_TTP="invalid_ttp",e.OTP_ATTEMPTS_EXCEEDED="number_of_attempts_exceeded",e.INVALID_TTP="invalid_ttp",e.SESSION_EXPIRED="esia_session_expired",e.TOO_MANY_RETRIES="toomanyretries",e.INVALID_PASSWORD="ValidationCommonErrorEnum.person.password.invalid",e.EDS_LOGIN_DISABLED="login_by_ds_is_unavailable",e.EDS_LOGIN_BLOCKED="login_by_ds_is_blocked",e.EDS_USER_NOT_MATCH="certificate_user_not_match",e.UNKNOWN_CERTIFICATE="unknown_certificate",e.PHONE_BUSY="phone.busy",e.EMAIL_BUSY="ValidationCommonErrorEnum.rc.email.isBusy",e.ACCOUNT_IS_LOCKED="account_is_locked",e.TIMEOUT_ERROR="timeout_error",e.ORG_ACCESS_DENIED="org_access_denied",e.INVALID_EBS="invalid_ebs",e.OUTDATED_EBS="bio_data_is_outdated",e}({}),o=function(e){return e.TTP="ttp",e.EBS="ebs",e.OTP="otp",e.CAPTCHA="captcha",e.PASSWORD="pwd",e.CHANGE_PASSWORD="change_password",e.FORCE_MOBILE="force_mobile",e.CHECK_MOBILE="check_mobile",e}({}),a=function(e){return e.Free="free",e.Length="length",e}({});class s{constructor(e){switch(e.status){case"successful":return;case"additional_actions_required":switch(e.additional_action){case o.OTP:this.type=o.OTP,this.data=new i.a(e.additional_data,e.additional_data.phone);break;case o.EBS:this.type=o.EBS;break;case o.TTP:this.type=o.TTP;break;case o.CAPTCHA:this.type=o.CAPTCHA;break;case o.CHANGE_PASSWORD:this.type=o.CHANGE_PASSWORD;break;case o.PASSWORD:this.type=o.PASSWORD;break;case o.FORCE_MOBILE:this.type=o.FORCE_MOBILE}return;case"error":this.error=e.error}}}var l=function(e){return e.NO_PHONE="NO_PHONE",e.EMAIL_NOT_CONFIRMED="EMAIL_NOT_CONFIRMED",e.NO_EMAIL="NO_EMAIL",e.OTP_NOT_ENABLED="OTP_NOT_ENABLED",e}({})},Eg8k:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("fXoL"),r=n("3Pt+"),o=n("yA8g"),a=n("pLZG"),s=n("1G5W"),l=n("l3Vr"),c=n("ofXK"),d=n("sYmb");const p=["input"];function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",7),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().switchPasswordMode()})),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("show",e.showPassword),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.showPassword?i["\u0275\u0275pipeBind1"](2,3,"PASSWORD.HIDE_BUTTON"):i["\u0275\u0275pipeBind1"](3,5,"PASSWORD.SHOW_BUTTON")," ")}}function m(e,t){if(1&e&&i["\u0275\u0275element"](0,"label",8),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("innerHTML",e.labelText,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275attribute"]("for",e.id?e.id:null)}}function h(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](2,1,"PASSWORD.SHOULD_CONTAIN")," "))}function f(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,", "),i["\u0275\u0275elementContainerEnd"]())}function g(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,h,3,3,"ng-container",11),i["\u0275\u0275text"](2),i["\u0275\u0275template"](3,f,2,0,"ng-container",11),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.first,r=t.last;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.description,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r)}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.description," ")}}const b=function(){return{type:"F",failed:!0}};function w(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,v,2,1,"div",10),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.getRules(i["\u0275\u0275pureFunction0"](1,b)))}}const E=function(){return{type:"A",failed:!0}};function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275template"](1,g,4,3,"ng-container",10),i["\u0275\u0275template"](2,w,2,2,"ng-container",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.getRules(i["\u0275\u0275pureFunction0"](2,E))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.getRules(i["\u0275\u0275pureFunction0"](3,E)).length)}}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.errorText," ")}}function _(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.description," ")}}const I=function(){return{type:"A"}};function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"div",13),i["\u0275\u0275elementStart"](2,"b"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"ul",14),i["\u0275\u0275template"](6,_,2,1,"li",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,2,"PASSWORD.TOOLTIP")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.getRules(i["\u0275\u0275pureFunction0"](4,I)))}}let S=(()=>{class e extends o.a{constructor(e,t){super(),this.passwordService=e,this.changeDetector=t,this.value="",this.checkRules=!1,this.showRules=!1,this.showToggle=!0,this.invalid=!1,this.hiddenPassword=!1,this.showPassword=!1,this.rules=[],this.rulesInvalid=!1}onKeydown(e){this.hiddenPassword&&(this.hiddenPassword=!1)}commit(e){}ngOnInit(){(this.checkRules||this.showRules)&&0===this.rules.length&&this.passwordService.getRules(),this.regexpList?this.rules=this.regexpList:this.passwordService.rulesData.pipe(Object(a.a)(e=>null!==e),Object(s.a)(this.unsubscribe)).subscribe(e=>{this.rules=e})}get isInvalid(){return this.checkRules&&this.value?(this.rules.forEach(e=>{const t=new RegExp(e.regexp,"g").test(this.value);e.failed="A"===e.type?!t:t}),this.rulesInvalid=this.getRules({failed:!0}).length>0,this.rulesInvalid):this.invalid}getRules(e){return this.rules.filter(t=>Object.keys(e).map(n=>t[n]===e[n]).every(e=>!0===e))}switchPasswordMode(){this.showPassword=!this.showPassword}generatePassword(){this.passwordService.generate().subscribe(e=>{this.showPassword=!0,this.value=e,this.commit(e),this.changeDetector.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-input-password"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](p,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputElement=n.first)},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("keydown",(function(e){return t.onKeydown(e)}))},inputs:{formControlName:"formControlName",errorText:"errorText",checkRules:"checkRules",showRules:"showRules",showToggle:"showToggle",invalid:"invalid",hiddenPassword:"hiddenPassword",regexpList:"regexpList"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)(()=>e),multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:8,vars:22,consts:[[1,"input-password"],["type","button","class","toggle",3,"show","click",4,"ngIf"],["id","password","required","",1,"plain-input",3,"type","disabled","value","change","input","focus","blur"],["input",""],["class","input-label",3,"innerHTML",4,"ngIf"],["class","error-label",4,"ngIf"],["class","tooltip",4,"ngIf"],["type","button",1,"toggle",3,"click"],[1,"input-label",3,"innerHTML"],[1,"error-label"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tooltip"],[1,"text-plain","mb-16"],[1,"rules"],["class","rule mt-8",4,"ngFor","ngForOf"],[1,"rule","mt-8"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,u,4,7,"button",1),i["\u0275\u0275elementStart"](2,"input",2,3),i["\u0275\u0275listener"]("change",(function(){return t.handleChange()}))("input",(function(){return t.handleInput()}))("focus",(function(){return t.triggerFocus()}))("blur",(function(){return t.triggerBlur()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,m,1,2,"label",4),i["\u0275\u0275template"](5,x,3,4,"div",5),i["\u0275\u0275template"](6,C,2,1,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,O,7,5,"div",6)),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showToggle&&t.value.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("no-label",!t.labelText)("filled",t.value.length>0)("invalid",t.isInvalid),i["\u0275\u0275property"]("type",t.showPassword||t.hiddenPassword?"text":"password")("disabled",t.disabled)("value",t.value),i["\u0275\u0275attribute"]("id",t.id?t.id:null)("name",t.name?t.name:t.placeholder)("tabIndex",t.tabIndex)("autocomplete",t.autocomplete?t.autocomplete:null)("minlength",t.minlength)("maxlength",t.maxlength)("placeholder",t.placeholder),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.labelText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isInvalid&&t.checkRules),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isInvalid&&!t.checkRules),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(t.showRules&&t.isInvalid||t.checkRules)&&t.focusOn&&t.getRules(i["\u0275\u0275pureFunction0"](21,I)).length>0))},directives:[c.l,c.k],pipes:[d.c],styles:[".input-password[_ngcontent-%COMP%]{position:relative}.input-password[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;font-family:inherit;font-size:inherit;line-height:inherit;border:0;text-align:left;box-shadow:none;color:inherit;position:absolute;top:14px;right:16px;width:24px;height:24px;cursor:pointer;background:url(password-hidden.bba98513e4e34d6d5d48.svg) no-repeat 50%;font-size:0}.input-password[_ngcontent-%COMP%]   .toggle.show[_ngcontent-%COMP%]{background:url(password-shown.0f2521147e93eae4d9da.svg) no-repeat 50%}.input-password[_ngcontent-%COMP%]   .plain-input[_ngcontent-%COMP%]{padding-right:56px}.tooltip[_ngcontent-%COMP%]{display:none}@media (min-width:1140px){.tooltip[_ngcontent-%COMP%]{display:block;position:absolute;z-index:1;top:0;left:100%;width:314px;padding:16px;margin:0 0 0 64px;border-left:4px solid #99b1e6;border-radius:4px 8px 8px 4px;box-shadow:0 24px 48px rgba(230,235,245,.4);background:#fff}.tooltip[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#0b1f33;font-weight:600}.tooltip[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#66727f}}"],changeDetection:0}),e})()},Gk2f:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var i=function(e){return e.LoginRequired="LOGIN_REQUIRED",e.UnconditionalCaptcha="UNCONDITIONAL_CAPTCHA",e.SolveAnomalyReaction="SOLVE_ANOMALY_REACTION",e.EnterMfa="ENTER_MFA",e.ChangePassword="CHANGE_PASSWORD",e.BadNewPassword="bad_new_password",e.FillEmail="FILL_EMAIL",e.FillPhone="FILL_PHONE",e.FillQuadrupelForm="FILL_QUADRUPEL_FORM",e.GrantScopeAccess="GRANT_SCOPE_ACCESS",e.GrantPermissionAccess="GRANT_PERMISSION_ACCESS",e.EdsLogin="EDS",e.Done="DONE",e.QrCode="QR_CODE",e}({}),r=function(e){return e.WrongPassword="INVALID_PASSWORD",e.WrongOtp="INVALID_OTP",e.WrongTtp="INVALID_TTP",e.BadNewPassword="INVALID_NEW_PASSWORD",e.CaptchaInvalid="INVALID_CAPTCHA",e.EbsInvalid="INVALID_EBS",e.EbsOutdated="ESIA-007152",e.EbsDeviceInvalid="INVALID_DEVICE_EBS",e.OidNull="ESIA-007165",e.MobileBlank="ESIA-007166",e.StringNotMobile="ESIA-007176",e.MobileBusy="ESIA-007177",e.AddMobileError="ESIA-007178",e.EmailBlank="ESIA-007179",e.StringNotEmail="ESIA-007180",e.EmailBusy="ESIA-007181",e.AddEmailError="ESIA-007182",e.EdsInvalid="ESIA-007162",e.EdsBlocked="ESIA-007186",e.EdsUnavailable="ESIA-007192",e.EdsCertificateUserNotMatch="ESIA-007189",e.EdsUnknownCertificate="ESIA-007188",e.EdsNoSubjectFound="ESIA-007185",e.EdsNonlegal="ESIA-007191",e.ScopesNotAllowed="ESIA-007194",e.QrCodeEventSourceOutdated="ESIA-005017",e}({}),o=function(e){return e.OtpNotFound="ESIA-007153",e.OtpOutdated="ESIA-007155",e.ActionMismatch="ESIA-007140",e.OtpVerifyTimeout="ESIA-007157",e.SessionRequestError="ESIA-007100",e.SessionStorageError="ESIA-007101",e.SessionMfaError="ESIA-007150",e.SessionSaveMfaError="ESIA-007151",e.UnexpectedMfaError="ESIA-007110",e.AttemptsOver="ESIA-007156",e.ChallengeExpired="ESIA-007184",e.QrCodeSessionOutdated="ESIA-005000",e.EdsBlocked="ESIA-007193",e}({}),a=function(e){return e.AccountTemporary="ACCOUNT_TEMPORARY",e.AccountPermanent="ACCOUNT_PERMANENT",e.IpTemporary="IP_TEMPORARY",e.IpPermanent="IP_PERMANENT",e}({}),s=function(e){return e.Sms="SMS",e.Ttp="TTP",e.Ebs="EBS",e.SberId="SBER_ID",e}({})},HrSU:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("3Pt+"),o=n("tSjf"),a=n("pLZG"),s=n("1G5W"),l=n("l3Vr"),c=n("Eg8k"),d=n("sYmb");const p=["titleElement"],u=["inputPassword"];let m=(()=>{class e extends o.a{constructor(e,t){super(),this.formBuilder=e,this.passwordService=t,this.newPassword=new i.EventEmitter,this.errorMessage="",this.form=e.group({password:new r.FormControl("",[r.Validators.required]),confirmPassword:new r.FormControl("",[r.Validators.required])},{validators:e=>{var t,n;return(null===(t=e.get("password"))||void 0===t?void 0:t.value)===(null===(n=e.get("confirmPassword"))||void 0===n?void 0:n.value)?null:{notMatch:!0}}})}onGenerateCLick(e){e.classList.contains("generate")&&this.inputPassword.generatePassword()}ngAfterViewInit(){this.titleElement.nativeElement.innerHTML=this.title}ngOnInit(){this.initForm()}initForm(){this.passwordService.getRules(),this.regexpList?this.setValidators(this.regexpList):this.passwordService.rulesData.pipe(Object(a.a)(e=>null!==e),Object(s.a)(this.unsubscribe)).subscribe(e=>{this.setValidators(e)}),this.confirmPassword.valueChanges.subscribe(e=>{this.errorForm={}}),this.password.valueChanges.subscribe(e=>{this.errorForm={}})}setValidators(e){let t=[r.Validators.required];e.forEach((e,n)=>{t.push(this.getPasswordValidatorFn(e,n))}),t=t.reverse(),this.form.get("password").setValidators(r.Validators.compose(t))}getPasswordValidatorFn(e,t){return n=>{const i=new RegExp(e.regexp).test(n.value);return"A"===e.type?n.value&&!i?{pwdError:!0}:null:n.value&&i?{["pwdErrorF"+t]:e.description}:null}}get password(){return this.form.get("password")}get confirmPassword(){return this.form.get("confirmPassword")}set error(e){this.password.setErrors({invalid:!0}),this.errorMessage=e}send(){this.password.value!==this.confirmPassword.value?this.confirmPassword.setErrors({notMatch:!0}):this.newPassword.emit(this.password.value)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.FormBuilder),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-change-password"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](p,!0),i["\u0275\u0275viewQuery"](u,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.titleElement=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputPassword=n.first))},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(e){return t.onGenerateCLick(e.target)}))},inputs:{title:"title",errorForm:"errorForm",regexpList:"regexpList"},outputs:{newPassword:"newPassword"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:28,consts:[[1,"title","text-center","mt-40","mb-24"],["titleElement",""],[3,"formGroup"],[1,"input-control","mb-24"],["id","password","formControlName","password",3,"checkRules","regexpList","showRules","name","invalid","labelText","errorText"],["inputPassword",""],["id","confirmPassword","formControlName","confirmPassword",3,"name","invalid","labelText","errorText"],[1,"mb-24"],[1,"plain-button","plain-button_wide",3,"disabled","click"]],template:function(e,t){if(1&e&&(i["\u0275\u0275element"](0,"div",0,1),i["\u0275\u0275elementStart"](2,"form",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275element"](4,"esia-input-password",4,5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",3),i["\u0275\u0275element"](10,"esia-input-password",6),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",7),i["\u0275\u0275elementStart"](15,"button",8),i["\u0275\u0275listener"]("click",(function(){return t.send()})),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](5);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("formGroup",t.form),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("checkRules",!0)("regexpList",t.regexpList)("showRules",!0)("name",i["\u0275\u0275pipeBind1"](6,14,"CHANGE_PASSWORD.ENTER_PASSWORD"))("invalid",!t.password.pristine&&t.password.invalid)("labelText",i["\u0275\u0275pipeBind1"](7,16,"CHANGE_PASSWORD.ENTER_PASSWORD"))("errorText",i["\u0275\u0275pipeBind1"](8,18,t.errorMessage)),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("name",i["\u0275\u0275pipeBind1"](11,20,"CHANGE_PASSWORD.AGAIN"))("invalid",!t.confirmPassword.pristine&&((null==t.form.errors?null:t.form.errors.notMatch)||t.confirmPassword.invalid||(null==t.errorForm||null==t.errorForm.confirmPassword?null:t.errorForm.confirmPassword.invalid)))("labelText",i["\u0275\u0275pipeBind1"](12,22,"CHANGE_PASSWORD.AGAIN"))("errorText",null!=t.errorForm&&t.errorForm.confirmPassword?t.errorForm.confirmPassword.errorText:i["\u0275\u0275pipeBind1"](13,24,"CHANGE_PASSWORD.NOT_MATCH")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("disabled",t.form.invalid||e.rulesInvalid||(null==t.errorForm?null:t.errorForm.confirmPassword)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](17,26,"CHANGE_PASSWORD.DONE")," ")}},directives:[r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,c.a,r.NgControlStatus,r.FormControlName],pipes:[d.c],styles:[".title[_ngcontent-%COMP%]{color:#828c9a}"],changeDetection:0}),e})()},LG1p:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("q3pR");let o=(()=>{class e{constructor(e){this.constants=e,this.mask={mobile:["+","7"," ","(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],snils:[/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/," ",/\d/,/\d/],inn:[/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],passport:[/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],passportCode:[/\d/,/\d/,/\d/]},this.pattern={email:/^\S+@\S+$/,mobile:/^\+7\s\(\d{3}\)\s\d{3}-\d{2}-\d{2}$/,snils:this.mask.snils.join("").replace(/\//g,""),inn:this.mask.inn.join("").replace(/\//g,""),passport:this.mask.passport.join("").replace(/\//g,""),firstName:"((^[0-9\u0410-\u042f\u0401\u0430-\u044f\u0451 IVX()`.'-]+[0-9\u0410-\u042f\u0401\u0430-\u044f\u0451 IVX(),`.'-]+[,]?[0-9\u0410-\u042f\u0401\u0430-\u044f\u0451 IVX()`.'-]+$)|(^[0-9\u0410-\u042f\u0401\u0430-\u044f\u0451 IVX()`.'-]+$))|((^[0-9A-Za-z ()`.'-]+[0-9A-Za-z (),`.'-]+[,]?[0-9A-Za-z ()`.'-]+$)|(^[0-9A-Za-z ()`.'-]+$))",lastName:"(^[0-9\u0410-\u042f\u0401\u0430-\u044f\u0451 IVX()`.'-]+$)|(^[0-9A-Za-z ()`.'-]+$)",passportCode:/^\d{3}/}}controlTrim(e){var t,n;const i=(null===(t=e.value)||void 0===t?void 0:t.trim())?null===(n=e.value)||void 0===n?void 0:n.trim():e.value;e.patchValue(i)}formatLogin(e,t=["phone","email","snils"]){let n=e.value;return-1!==t.indexOf("email")&&n.length>2&&this.pattern.email.test(n)?{login:n,idType:"email"}:(n=n.replace(/\D/g,""),-1!==t.indexOf("phone")&&this.constants.regExp.searchPhone.test(n)?{login:n.replace(this.constants.regExp.searchPhone,"$1$2$3").replace(this.constants.regExp.formatPhone,"+7($1)$2"),idType:"phone"}:-1!==t.indexOf("snils")&&this.constants.regExp.searchSnils.test(n)?{login:n.replace(this.constants.regExp.formatSnils,"$1-$2-$3 $4"),idType:"snils"}:(e.setErrors({required:!0}),!1))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cvmq:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("fXoL"),r=n("3Pt+"),o=n("CHA6"),a=n("BmY/"),s=n("tyNb"),l=n("j0Qm"),c=n("ofXK"),d=n("yA8g"),p=n("sYmb");function u(e,t){if(1&e&&i["\u0275\u0275elementContainer"](0,12),2&e){i["\u0275\u0275nextContext"](3);const e=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function m(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",7),i["\u0275\u0275element"](2,"esia-input",8),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275template"](4,u,1,1,"ng-container",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",10),i["\u0275\u0275elementStart"](6,"button",11),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).check()})),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("labelText",i["\u0275\u0275pipeBind1"](3,6,"OTP.CODE"))("invalid",e.invalidCode)("autocomplete","one-time-code"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.code.pristine&&e.code.getError("invalidCode")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",e.form.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,8,"OTP.CONTINUE")," ")}}function h(e,t){if(1&e&&i["\u0275\u0275elementContainer"](0,12),2&e){i["\u0275\u0275nextContext"](3);const e=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"esia-code-input",14),i["\u0275\u0275listener"]("checkValue",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).check(t)}))("changeValue",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).code.setErrors({invalidCode:null})}))("equalToPreviousValue",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).setInvalid()})),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,h,1,1,"ng-container",9),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("labelText",i["\u0275\u0275pipeBind1"](2,3,"OTP.CODE"))("length",e.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.code.getError("invalidCode"))}}function g(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"div",3),i["\u0275\u0275elementStart"](2,"form",4),i["\u0275\u0275template"](3,m,9,10,"ng-container",5),i["\u0275\u0275template"](4,f,4,5,"ng-template",null,6,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275reference"](5),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",t.description,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",t.form),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.codeType===t.codeTypeFree||!t.esiaConfig.autosentcode)("ngIfElse",e)}}function v(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"div",15),i["\u0275\u0275elementStart"](2,"div",16),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,1,"OTP.NO_ATTEMPTS")," "))}function b(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",19),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).renew()})),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"OTP.RENEW")," "))}function w(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,b,3,3,"button",18),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"OTP.EXPIRED")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.otpData.renewCount>0)}}const E=function(e){return{x:e}};function x(e,t){if(1&e&&(i["\u0275\u0275element"](0,"div",22),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"date")),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](1,1,"OTP.SECONDS",i["\u0275\u0275pureFunction1"](7,E,i["\u0275\u0275pipeBind2"](2,4,1e3*e.otpData.renewTime,"mm:ss"))),i["\u0275\u0275sanitizeHtml"])}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",23),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).renew()})),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"OTP.RESEND")))}function _(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,x,3,9,"div",20),i["\u0275\u0275template"](2,C,3,3,"a",21),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.otpData.renewTime>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.otpData.renewTime)}}function I(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"OTP.WRONG_CODE")," "))}let O=(()=>{class e{constructor(e,t,n,a){this.router=e,this.formBuilder=t,this.config=n,this.changeDetector=a,this.otpSuccess=new i.EventEmitter,this.otpRenew=new i.EventEmitter,this.esiaConfig=this.config.params,this.codeTypeFree=o.e.Free,this.timer={renewTime:0,verifyTime:0},this.form=t.group({code:new r.FormControl("",[r.Validators.required])})}ngOnInit(){this.startTimer()}startTimer(){const e=(new Date).getTime(),t={verifyTime:this.otpData.verifyTime,renewTime:this.otpData.renewTime};this.code.setValue(""),Object.keys(this.timer).forEach(n=>{clearInterval(this.timer[n]),"verifyTime"===n&&0===this.otpData.verifyCount||(this.timer[n]=setInterval(()=>{this.otpData[n]=t[n]-Math.round(((new Date).getTime()-e)/1e3),this.otpData[n]<=0&&(this.otpData[n]=0,clearInterval(this.timer[n])),this.changeDetector.markForCheck()},100))})}get code(){return this.form.get("code")}get invalidCode(){return!this.code.pristine&&this.code.invalid}check(e){e&&this.code.patchValue(e),this.otpSuccess.emit(this.code.value)}renew(){this.resetCodeInput(),this.otpRenew.emit()}restartTimer(e){this.otpData=e,this.startTimer()}setInvalid(){this.resetCodeInput(),this.code.setErrors({invalidCode:!0},{emitEvent:!0}),this.changeDetector.markForCheck()}resetCodeInput(){this.codeInput&&this.codeInput.clearValue()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.c),i["\u0275\u0275directiveInject"](r.FormBuilder),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-otp"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](a.a,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.codeInput=n.first)},inputs:{description:"description",otpData:"otpData",codeType:"codeType",length:"length"},outputs:{otpSuccess:"otpSuccess",otpRenew:"otpRenew"},decls:7,vars:4,consts:[[1,"text-center"],[4,"ngIf"],["errorMessageBlock",""],[1,"text-plain","mb-24",3,"innerHTML"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["codeLength",""],[1,"input-control","mb-24"],["id","code","formControlName","code",3,"labelText","invalid","autocomplete"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"mb-24"],[1,"plain-button","plain-button_wide",3,"disabled","click"],[3,"ngTemplateOutlet"],[1,"mt-40","mb-40"],[3,"labelText","length","checkValue","changeValue","equalToPreviousValue"],[1,"no-attempts","mb-24"],[1,"text-plain","red","mb-24"],[1,"text-plain","mb-24"],["class","plain-button plain-button_wide",3,"click",4,"ngIf"],[1,"plain-button","plain-button_wide",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"click",4,"ngIf"],[3,"innerHTML"],[3,"click"],[1,"error-label","text-left"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,g,6,4,"ng-container",1),i["\u0275\u0275template"](2,v,5,3,"ng-container",1),i["\u0275\u0275template"](3,w,5,4,"ng-container",1),i["\u0275\u0275template"](4,_,3,2,"ng-container",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,I,3,3,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.otpData.verifyTime>0&&0!==t.otpData.verifyCount),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===t.otpData.verifyCount),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===t.otpData.verifyTime),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.otpData.verifyTime>0&&t.otpData.renewCount>0))},directives:[c.l,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,d.a,r.NgControlStatus,r.FormControlName,c.p,a.a],pipes:[p.c,c.e],styles:[".no-attempts[_ngcontent-%COMP%]{display:inline-block;width:87px;height:80px;background:url(no-attempts.5db8a843e9db2608f41e.svg) no-repeat 50%;background-size:100%}"],changeDetection:0}),e})()},e1ef:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("sYmb");let o=(()=>{class e{constructor(){this.handler=new i.EventEmitter}move(){this.handler.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-back-button"]],outputs:{handler:"handler"},decls:2,vars:3,consts:[["type","button",1,"back-button",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0),i["\u0275\u0275listener"]("click",(function(){return t.move()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](1,1,"BACK_BUTTON_TEXT"))},pipes:[r.c],styles:[".back-button[_ngcontent-%COMP%]{padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;font-family:inherit;font-size:inherit;line-height:inherit;text-align:left;box-shadow:none;color:inherit;position:absolute;top:-4px;left:-4px;width:38px;height:38px;border:4px solid #e4ecfd;border-radius:50%;background:#fff url(arrow-back.a5d98b70b9a2a974c92c.svg) no-repeat 50%;cursor:pointer}@media (min-width:768px){.back-button[_ngcontent-%COMP%]{left:-24px;top:40px;width:48px;height:48px;border-width:6px}}"]}),e})()},l3Vr:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("2Vo4"),r=n("lJxs"),o=n("8iAA"),a=n("fXoL"),s=n("sYmb"),l=n("S2y7");let c=(()=>{class e{constructor(e,t){this.translate=e,this.api=t,this.rulesSubject=new i.a(null),this.rulesData=this.rulesSubject.asObservable(),this.loaded=!1,this.lang=e.currentLang}getRules(){this.loaded||(this.loaded=!0,this.api.getRequest("esia-rs/api/public/v1/pwd/check?lang="+this.lang).subscribe(e=>this.rulesSubject.next(e),()=>this.loaded=!1))}generate(){return this.api.getRequest("esia-rs/api/public/v1/pwd/random").pipe(Object(r.a)(e=>e.pwd))}changePassword(e,t){return this.api.postRequest(e+"/change-password",{password:t}).pipe(Object(r.a)(e=>(null===e&&(window.location.href="/"),new o.a(e))))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.d),a["\u0275\u0275inject"](l.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},q3pR:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL");let r=(()=>{class e{constructor(){this.AUTH_COOKIE="_idp_authn_id",this.AVATAR_COOKIE="avatar",this.regExp={searchPhone:/^7(\d{10})$|^(\d{10})$|^8(\d{10})$/,validatePhone:/^(\+7|7|8)?[\s-\u2212\u2013\u2014]?[\s(]?\d([\s-\u2212\u2013\u2014())]?[\s-\u2212\u2013\u2014())]?\d){9}$/,formatPhone:/^(\d{3})(\d{7})/,formatPhoneHyphens:/^(\d{3})(\d{3})(\d{2})(\d{2})/,searchSnils:/^\d{11}$/,validateSnils:/^\d([\s-\u2212\u2013\u2014]?\d){10}$/,formatSnils:/^(\d{3})(\d{3})(\d{3})(\d{2})$/,emailPattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},this.isDesktop=!e.isMobileOrTablet()}static isMobileOrTablet(){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qZrB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL");let r=(()=>{class e{transform(e){return e.replace(/[\(\)\s]/g," ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"cleanPhoneNumber",type:e,pure:!0}),e})()},xJ3q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e,t){this.verifyCount=e.verify_attempts_left,this.verifyTime=e.verify_timeout_secs,this.renewCount=e.renew_attempts_left,this.renewTime=e.renew_timeout_secs,this.codeVerified=e.code_verified,this.otpCodeLength=e.code_length?e.code_length:e.otp_code_length,t&&(this.phone=t.replace(/.?(\d).?(\d{3}).?(x{3})(x{2})(\d{2})/g,"+$1 ($2) *** ** $5"))}}},yA8g:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),r=n("3Pt+"),o=n("tSjf"),a=n("ofXK");const s=["input"];function l(e,t){if(1&e&&i["\u0275\u0275element"](0,"label",3),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("innerHTML",e.labelText,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275attribute"]("for",e.id?e.id:null)}}let c=(()=>{class e extends o.a{constructor(){super(),this.value="",this.commitOnInput=!0,this.disabled=!1,this.invalid=!1,this.focus=new i.EventEmitter,this.blur=new i.EventEmitter,this._id="",this.externalId="",this.focusOn=!1}set id(e){this._id=e,this.externalId=null}get id(){return this._id}commit(e){}handleInput(){this.value=this.inputElement.nativeElement.value,this.commitOnInput&&this.commit(this.value)}handleChange(){this.value=this.inputElement.nativeElement.value,this.commitOnInput||this.commit(this.value)}triggerFocus(){this.focusOn=!0,this.focus.emit()}setFocus(){this.inputElement.nativeElement.focus()}triggerBlur(){this.onTouchedCallback&&this.onTouchedCallback(),this.focusOn=!1,this.blur.emit()}setBlur(){this.inputElement.nativeElement.blur()}writeValue(e){this.value=null==e?"":""+e}registerOnChange(e){this.commit=e}registerOnTouched(e){this.onTouchedCallback=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["esia-input"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](s,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputElement=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("id",t.externalId)},inputs:{name:"name",tabIndex:"tabIndex",minlength:"minlength",maxlength:"maxlength",autocomplete:"autocomplete",placeholder:"placeholder",commitOnInput:"commitOnInput",labelText:"labelText",disabled:"disabled",invalid:"invalid",id:"id"},outputs:{focus:"focus",blur:"blur"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)(()=>e),multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:16,consts:[["id","password","type","text",1,"plain-input",3,"disabled","value","change","input","focus","blur"],["input",""],["class","input-label",3,"innerHTML",4,"ngIf"],[1,"input-label",3,"innerHTML"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"input",0,1),i["\u0275\u0275listener"]("change",(function(){return t.handleChange()}))("input",(function(){return t.handleInput()}))("focus",(function(){return t.triggerFocus()}))("blur",(function(){return t.triggerBlur()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,l,1,2,"label",2)),2&e&&(i["\u0275\u0275classProp"]("no-label",!t.labelText)("invalid",t.invalid)("filled",t.value.length>0),i["\u0275\u0275property"]("disabled",t.disabled)("value",t.value),i["\u0275\u0275attribute"]("id",t.id?t.id:null)("name",t.name?t.name:null)("tabIndex",t.tabIndex)("autocomplete",t.autocomplete?t.autocomplete:null)("minlength",t.minlength)("maxlength",t.maxlength)("placeholder",t.placeholder),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.labelText))},directives:[a.l],styles:[""]}),e})()}}]);